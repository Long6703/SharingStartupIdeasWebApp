@page
@model SSI.Pages.Ideas.IdeaDetailsModel
@{
    Layout = "_LayoutAdmin";
}

<div class="container-fluid">

    <div class="row">
        <div class="col-12">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h4 class="header-title mb-3">Idea Deatils</h4>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="p-0 text-center">
                <div class="member-card">
                    <div class="avatar-xxl member-thumb mb-2 center-page mx-auto">
                        <img src="@Model.Idea.PosterImg" class="rounded-circle img-thumbnail" alt="profile-image">
                        <i class="mdi mdi-star-circle member-star text-success" title="verified user"></i>
                    </div>

                    <div class="">
                        <h5 class="mt-3">@Model.Idea.Title</h5>
                        
                    </div>

                    <p class="text-muted mt-2">
                            
                    </p>

                    <form method="post">
                        <input type="hidden" value="@Model.Idea.IdeaId"/>
                        <button type="submit" class="btn btn-primary mt-2 mr-1" name="action" value="Reject">Reject</button>
                        <button type="submit" class="btn btn-teal mt-2" name="action" value="Approve">Approve</button>
                    </form>

                </div>

            </div>
            <!-- end card-box -->

        </div>
        <!-- end col -->
    </div>
 

    <div class="mt-5">
        <ul class="nav nav-tabs tabs-bordered">
            <li class="nav-item">
                <a href="#home-b1" data-toggle="tab" aria-expanded="false" class="nav-link active">
                    Milestone
                </a>
            </li>
            <li class="nav-item">
                <a href="#profile-b1" data-toggle="tab" aria-expanded="true" class="nav-link">
                    Idea Information
                </a>
            </li>
        </ul>

        <div class="tab-content">
            <div class="tab-pane active" id="home-b1">
                <div class="row">
                    

                    <div class="col-lg-12">
                        <!-- Personal-Information -->
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="timeline" dir="ltr">
                                    <article class="timeline-item alt">
                                        <div class="text-right">
                                            <div class="time-show first">
                                                <a href="#" class="btn btn-primary">Milestone</a>
                                            </div>
                                        </div>
                                    </article>
                                    @{
                                        int count = Model.countIdeaDetais;
                                        int c = 1;
                                    }
                                    @foreach(var i in Model.ideadetails)
                                    {
                                        if(count % 2 != 0)
                                        {
                                            <article class="timeline-item ">
                                                <div class="timeline-desk">
                                                    <div class="panel">
                                                        <div class="timeline-box">
                                                            <span class="arrow"></span>
                                                            <span class="timeline-icon bg-success"><i class="mdi mdi-checkbox-blank-circle-outline"></i></span>
                                                            <h4 class="text-success">Phase @c:</h4>
                                                            <p class="timeline-date text-muted"><small>@i.CreatedAt</small></p>
                                                            <p>@i.Content</p>

                                                        </div>
                                                    </div>
                                                </div>
                                            </article>
                                        }
                                        else
                                        {
                                            <article class="timeline-item alt">
                                                <div class="timeline-desk">
                                                    <div class="panel">
                                                        <div class="timeline-box">
                                                            <span class="arrow-alt"></span>
                                                            <span class="timeline-icon"><i class="mdi mdi-checkbox-blank-circle-outline"></i></span>
                                                            <h4 class="">Phase @c:</h4>
                                                            <p class="timeline-date text-muted"><small>@i.CreatedAt</small></p>
                                                            <p>@i.Content</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </article>
                                        }
                                        count--;
                                        c++;
                                    }
                                </div>
                            </div>
                        </div>
                        <!-- end row -->

                        <!-- Personal-Information -->

                    </div>

                </div>
            </div>
            <div class="tab-pane" id="profile-b1">
                <!-- Personal-Information -->
                <div class="panel card panel-fill">
                    <div class="card-header">
                        <h5 class="font-16 m-1">Edit Profile</h5>
                    </div>
                    <div class="card-body">
                        <div class="row mt-5 justify-content-center">
                            <div class="col-md-5">
                                <div class="p-4">
                                    <!-- Question/Answer -->
                                    <div class="mb-4">
                                        <h6>What is Lorem Ipsum?</h6>
                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
                                    </div>

                                    <!-- Question/Answer -->

                                    <div class="mb-4">
                                        <h6>Why use Lorem Ipsum?</h6>
                                        <p>Lorem ipsum dolor sit amet, in mea nonumes dissentias dissentiunt, pro te solet oratio iriure. Cu sit consetetur moderatius intellegam, ius decore accusamus te. Ne primis suavitate disputando nam. Mutat convenirete.</p>
                                    </div>

                                    <!-- Question/Answer -->

                                    <div class="mb-4">
                                        <h6>How many variations exist?</h6>
                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
                                    </div>

                                    <!-- Question/Answer -->
                                    <div class="mb-4">
                                        <h6>What is Lorem Ipsum?</h6>
                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
                                    </div>

                                </div>

                            </div>
                            <!--/col-md-5 -->

                            <div class="col-md-5">

                                <div class="p-4">
                                    <!-- Question/Answer -->
                                    <div class="mb-4">
                                        <h6>Is safe use Lorem Ipsum?</h6>
                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
                                    </div>

                                    <!-- Question/Answer -->

                                    <div class="mb-4">
                                        <h6>When can be used?</h6>
                                        <p>Lorem ipsum dolor sit amet, in mea nonumes dissentias dissentiunt, pro te solet oratio iriure. Cu sit consetetur moderatius intellegam, ius decore accusamus te. Ne primis suavitate disputando nam. Mutat convenirete.</p>
                                    </div>

                                    <!-- Question/Answer -->

                                    <div class="mb-4">
                                        <h6>License &amp; Copyright</h6>
                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
                                    </div>

                                    <!-- Question/Answer -->
                                    <div class="mb-4">
                                        <h6>Is safe use Lorem Ipsum?</h6>
                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
                                    </div>
                                </div>

                            </div>
                            <!--/col-md-5-->
                        </div>
                    </div>
                </div>
                <!-- Personal-Information -->
            </div>
        </div>
    </div>
</div>
<script>
    // Add an event listener to each Phase element
    document.querySelectorAll('.timeline-item').forEach(item => {
        item.addEventListener('click', function () {
            // Get the Phase number from the clicked element
            const phaseNumber = item.querySelector('h4').textContent.split(' ')[1];

            // Find the corresponding idea detail in the Model
            const ideaDetail = Model.ideadetails.find(detail => detail.PhaseNumber === phaseNumber);

            // Update the "Idea Information" tab content with the relevant data
            if (ideaDetail) {
                const ideaInfoContainer = document.getElementById('profile-b1');
                ideaInfoContainer.innerHTML = `
              <h2>Phase ${ideaDetail.PhaseNumber} Details</h2>
              <p><strong>Content:</strong> ${ideaDetail.Content}</p>
              `;
                $('#profile-b1').tab('show');
            } else {
                console.error('Idea detail not found for Phase', phaseNumber);
            }
        });
    });
</script>